selection_status:
  finalized: true
  selected_dataset_key: openneuro_candidate_1
  rationale: "Selected primary OpenNeuro EEG candidate for initial end-to-end decoding baseline."

readiness_checklist:
  accession_confirmed: true
  bids_files_present: true
  labels_confirmed: true
  class_balance_checked: true
  exclusion_rules_locked: true
  ready_for_full_execution: false

selection_criteria:
  - "BIDS-compliant EEG with complete metadata and events.tsv"
  - "Clear class labels for decoding task"
  - "Adequate trials per class after cleaning"
  - "Dataset size feasible for local iteration"

candidate_datasets:
  - key: openneuro_candidate_1
    source: OpenNeuro
    accession: "ds007056"
    modality: EEG
    version: "1.1.1"
    doi: "10.18112/openneuro.ds007056.v1.1.1"
    task_name: "VisualOddball"
    bids_root_relative: data/raw/openneuro_candidate_1
    target_label_column: "value"
    class_labels:
      - "Frequent_NonTarget"
      - "Rare_Target"
    label_mapping_source: "task-VisualOddball_events.json::value.Levels"
    planned_subject_filter: "sub-1001,sub-1002,sub-1004,sub-1005,sub-1006,sub-1007,sub-1008,sub-1009,sub-1010,sub-1011,sub-1013,sub-1014,sub-1015,sub-1016,sub-1017,sub-1018,sub-1020"
    planned_run_filter: "all"
    include: true
    notes: "Primary candidate locked and expanded to a 17-subject slice from OpenNeuro public S3 for baseline modeling readiness."
    checklist:
      accession_confirmed: true
      target_label_column_confirmed: true
      class_labels_confirmed: true
      minimum_trials_per_class_met: true
      subjects_with_events: 17
      aggregate_class_counts:
        Frequent_NonTarget: 2432
        Rare_Target: 609
      minimum_trials_per_subject:
        Frequent_NonTarget: 82
        Rare_Target: 19
      sample_class_counts_sub_1001:
        Frequent_NonTarget: 168
        Rare_Target: 42

  - key: openneuro_candidate_2
    source: OpenNeuro
    accession: "TBD"
    modality: EEG
    task_name: "TBD"
    bids_root_relative: data/raw/TBD
    target_label_column: "trial_type"
    class_labels:
      - "class_a"
      - "class_b"
    planned_subject_filter: "all"
    planned_run_filter: "all"
    include: true
    notes: "Backup candidate if primary has poor class balance."

frozen_analysis_contract:
  objective: "Decode stimulus category from EEG epochs above chance"
  metric_primary: "balanced_accuracy"
  cv_strategy: "StratifiedKFold"
  cv_folds: 5
  chance_baseline: "majority_class"
  report_minimum_outputs:
    - "class balance table"
    - "cross-validation metric summary"
    - "confusion matrix"
    - "at least one neuro figure (ERP/topomap)"
